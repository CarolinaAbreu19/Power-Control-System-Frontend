<h1 class="page__title">Cadastro de Usinas Elétricas</h1>

<form [formGroup]="form">
    <fieldset>
        <div class="form__field">
            <label for="name" class="form__label">Nome</label>
            <input 
                id="name" 
                type="text" 
                class="form__input" 
                formControlName="name"
                maxlength="100">
            <span class="form__error" *ngIf="form.controls.name.invalid && !form.controls.name.pristine">Este campo deve conter entre 3 e 100 caracteres</span>
        </div>
        <div class="form__field">
            <label>Equipamentos disponíveis</label>
            <!-- <p *ngIf="powerPlants.length === 0">Nenhuma equipamento está disponível!</p> -->
            
            <table class="form__table">
                <thead class="table__head">
                    <th>Código</th>
                    <th>Nome</th>
                    <th>Tipo</th>
                    <th>Ações</th>
                </thead>

                <tbody class="table__body" *ngFor="let eletricalEquipament of eletricalEquipaments">
                    <tr>
                        <td>{{ eletricalEquipament.code }}</td>
                        <td>{{ eletricalEquipament.name }}</td>
                        <td>{{ eletricalEquipament.type }}</td>
                        <td><button (click)="addEEletricalEquipament(eletricalEquipament)">Selecionar</button></td>
                    </tr>
                </tbody>
            </table>

        </div>
        <div class="form__field">
            <button>
                <a routerLink="/list-power-plant">Cancelar</a>
            </button>
            <button type="submit">Salvar</button>
        </div>
    </fieldset>
</form>